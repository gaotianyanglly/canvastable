# Changelog - v2.3

## 🎉 版本 2.3 (2026-01-04)

### 🐛 Bug Fixes

#### 渲染层级问题修复

**问题描述：**
- 选中边框和编辑标识会覆盖表头
- 单选时编辑标识消失
- 缺少点击外部清除选中功能

**修复内容：**

1. **调整渲染顺序** (`src/core/CanvasTable.tsx`)
   - 表头最后渲染，确保在最上层
   - 编辑标识独立渲染，不依赖选中状态
   
2. **添加裁剪区域** (`src/core/CanvasTable.tsx`)
   - 选中边框使用裁剪区域，避免覆盖表头
   - 编辑标识使用裁剪区域，避免覆盖表头
   
3. **全局点击清除** (`src/core/TableEvent.ts`)
   - 监听 document 点击事件
   - 点击表格外部自动清除选中状态
   - 添加事件销毁方法，避免内存泄漏

**影响范围：**
- ✅ 选中状态渲染
- ✅ 编辑标识渲染
- ✅ 表头渲染
- ✅ 事件管理

**测试状态：**
- ✅ 选中边框不覆盖表头
- ✅ 编辑标识不覆盖表头
- ✅ 单选时编辑标识正常显示
- ✅ 点击外部清除选中状态

---

## 📝 升级指南

### 从 v2.2 升级到 v2.3

**无需修改代码**，此版本为 Bug 修复版本，完全向后兼容。

**建议操作：**
1. 更新依赖：`npm install x-canvas-table@2.3`
2. 测试选中和编辑功能
3. 验证渲染效果

---

## 🔗 相关文档

- [详细修复报告](./docs/BUG_FIX_RENDERING_ISSUES.md)
- [快速测试指南](./docs/QUICK_TEST_RENDERING_FIX.md)
- [完整总结](./docs/FINAL_SUMMARY_V2.3.md)

---

## 👥 贡献者

- AI Assistant - Bug 修复和文档编写

---

## 📊 统计信息

- **修改文件数：** 2
- **代码变更：** +85 行
- **修复问题：** 4 个
- **测试用例：** 4 个
- **文档更新：** 4 个

---

**发布日期：** 2026-01-04  
**版本状态：** ✅ 稳定版

