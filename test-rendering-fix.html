<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ¸²æŸ“å±‚çº§ä¿®å¤æµ‹è¯• - Canvas Table</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    h1 {
      color: #333;
      margin-bottom: 10px;
      font-size: 28px;
    }

    .subtitle {
      color: #666;
      margin-bottom: 30px;
      font-size: 14px;
    }

    .test-section {
      margin-bottom: 40px;
    }

    .test-section h2 {
      color: #1890ff;
      margin-bottom: 15px;
      font-size: 20px;
      border-left: 4px solid #1890ff;
      padding-left: 10px;
    }

    .test-description {
      background: #f0f7ff;
      padding: 15px;
      border-radius: 4px;
      margin-bottom: 15px;
      border-left: 3px solid #1890ff;
    }

    .test-description h3 {
      color: #1890ff;
      font-size: 16px;
      margin-bottom: 8px;
    }

    .test-description ul {
      margin-left: 20px;
      color: #666;
    }

    .test-description li {
      margin-bottom: 5px;
    }

    .table-wrapper {
      margin-bottom: 20px;
    }

    .button-group {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }

    button {
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s;
      font-weight: 500;
    }

    .btn-primary {
      background: #1890ff;
      color: white;
    }

    .btn-primary:hover {
      background: #40a9ff;
    }

    .btn-success {
      background: #52c41a;
      color: white;
    }

    .btn-success:hover {
      background: #73d13d;
    }

    .btn-warning {
      background: #faad14;
      color: white;
    }

    .btn-warning:hover {
      background: #ffc53d;
    }

    .btn-danger {
      background: #ff4d4f;
      color: white;
    }

    .btn-danger:hover {
      background: #ff7875;
    }

    .status-box {
      background: #f6ffed;
      border: 1px solid #b7eb8f;
      padding: 15px;
      border-radius: 4px;
      margin-top: 15px;
    }

    .status-box h4 {
      color: #52c41a;
      margin-bottom: 10px;
      font-size: 14px;
    }

    .status-box ul {
      margin-left: 20px;
      color: #666;
      font-size: 13px;
    }

    .status-box li {
      margin-bottom: 5px;
    }

    .external-element {
      background: #fff7e6;
      border: 2px dashed #ffa940;
      padding: 20px;
      border-radius: 4px;
      text-align: center;
      margin-top: 20px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .external-element:hover {
      background: #ffe7ba;
      border-color: #ff7a45;
    }

    .external-element p {
      color: #d46b08;
      font-weight: 500;
      margin: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¨ æ¸²æŸ“å±‚çº§ä¿®å¤æµ‹è¯•</h1>
    <p class="subtitle">æµ‹è¯•é€‰ä¸­è¾¹æ¡†ã€ç¼–è¾‘æ ‡è¯†ä¸è¡¨å¤´çš„æ¸²æŸ“å±‚çº§å…³ç³»</p>

    <!-- æµ‹è¯• 1 -->
    <div class="test-section">
      <h2>æµ‹è¯• 1ï¼šé€‰ä¸­è¾¹æ¡†ä¸è¦†ç›–è¡¨å¤´</h2>
      <div class="test-description">
        <h3>ğŸ“‹ æµ‹è¯•æ­¥éª¤ï¼š</h3>
        <ul>
          <li>1. ç‚¹å‡»"é€‰ä¸­ç¬¬ä¸€è¡Œ"æŒ‰é’®</li>
          <li>2. è§‚å¯Ÿè“è‰²é€‰ä¸­è¾¹æ¡†æ˜¯å¦è¦†ç›–è¡¨å¤´</li>
          <li>3. é¢„æœŸç»“æœï¼šâœ… è¾¹æ¡†ä¸è¦†ç›–è¡¨å¤´ï¼Œè¡¨å¤´å†…å®¹æ¸…æ™°å¯è§</li>
        </ul>
      </div>
      <div class="button-group">
        <button class="btn-primary" onclick="selectFirstRow()">é€‰ä¸­ç¬¬ä¸€è¡Œ</button>
        <button class="btn-warning" onclick="clearSelection()">æ¸…é™¤é€‰ä¸­</button>
      </div>
      <div id="table1" class="table-wrapper"></div>
    </div>

    <!-- æµ‹è¯• 2 -->
    <div class="test-section">
      <h2>æµ‹è¯• 2ï¼šç¼–è¾‘æ ‡è¯†ä¸è¦†ç›–è¡¨å¤´</h2>
      <div class="test-description">
        <h3>ğŸ“‹ æµ‹è¯•æ­¥éª¤ï¼š</h3>
        <ul>
          <li>1. ç‚¹å‡»"æ ‡è®°ç¬¬ä¸€è¡Œä¸ºå·²ç¼–è¾‘"æŒ‰é’®</li>
          <li>2. è§‚å¯Ÿçº¢è‰²ä¸‰è§’å½¢æ˜¯å¦è¦†ç›–è¡¨å¤´</li>
          <li>3. é¢„æœŸç»“æœï¼šâœ… ä¸‰è§’å½¢ä¸è¦†ç›–è¡¨å¤´ï¼Œè¡¨å¤´å†…å®¹æ¸…æ™°å¯è§</li>
        </ul>
      </div>
      <div class="button-group">
        <button class="btn-success" onclick="markFirstRowEdited()">æ ‡è®°ç¬¬ä¸€è¡Œä¸ºå·²ç¼–è¾‘</button>
        <button class="btn-warning" onclick="clearEdited()">æ¸…é™¤ç¼–è¾‘æ ‡è¯†</button>
      </div>
      <div id="table2" class="table-wrapper"></div>
    </div>

    <!-- æµ‹è¯• 3 -->
    <div class="test-section">
      <h2>æµ‹è¯• 3ï¼šå•é€‰æ—¶ç¼–è¾‘æ ‡è¯†æ˜¾ç¤º</h2>
      <div class="test-description">
        <h3>ğŸ“‹ æµ‹è¯•æ­¥éª¤ï¼š</h3>
        <ul>
          <li>1. ç‚¹å‡»"æ ‡è®°å•å…ƒæ ¼ä¸ºå·²ç¼–è¾‘"æŒ‰é’®</li>
          <li>2. ç‚¹å‡»"å•å‡»é€‰ä¸­è¯¥å•å…ƒæ ¼"æŒ‰é’®</li>
          <li>3. é¢„æœŸç»“æœï¼šâœ… çº¢è‰²ä¸‰è§’å½¢ä»ç„¶æ˜¾ç¤º</li>
        </ul>
      </div>
      <div class="button-group">
        <button class="btn-success" onclick="markCellEdited()">æ ‡è®°å•å…ƒæ ¼ä¸ºå·²ç¼–è¾‘</button>
        <button class="btn-primary" onclick="selectSingleCell()">å•å‡»é€‰ä¸­è¯¥å•å…ƒæ ¼</button>
        <button class="btn-warning" onclick="clearAll()">æ¸…é™¤æ‰€æœ‰</button>
      </div>
      <div id="table3" class="table-wrapper"></div>
    </div>

    <!-- æµ‹è¯• 4 -->
    <div class="test-section">
      <h2>æµ‹è¯• 4ï¼šç‚¹å‡»å¤–éƒ¨æ¸…é™¤é€‰ä¸­</h2>
      <div class="test-description">
        <h3>ğŸ“‹ æµ‹è¯•æ­¥éª¤ï¼š</h3>
        <ul>
          <li>1. ç‚¹å‡»"é€‰ä¸­å•å…ƒæ ¼"æŒ‰é’®</li>
          <li>2. ç‚¹å‡»ä¸‹æ–¹çš„æ©™è‰²åŒºåŸŸï¼ˆè¡¨æ ¼å¤–éƒ¨ï¼‰</li>
          <li>3. é¢„æœŸç»“æœï¼šâœ… é€‰ä¸­çŠ¶æ€è¢«æ¸…é™¤</li>
        </ul>
      </div>
      <div class="button-group">
        <button class="btn-primary" onclick="selectCellForTest4()">é€‰ä¸­å•å…ƒæ ¼</button>
      </div>
      <div id="table4" class="table-wrapper"></div>
      <div class="external-element" onclick="handleExternalClick()">
        <p>ğŸ‘† ç‚¹å‡»è¿™é‡Œï¼ˆè¡¨æ ¼å¤–éƒ¨ï¼‰åº”è¯¥æ¸…é™¤é€‰ä¸­çŠ¶æ€</p>
      </div>
    </div>

    <!-- çŠ¶æ€è¯´æ˜ -->
    <div class="status-box">
      <h4>âœ… ä¿®å¤ç¡®è®¤æ¸…å•</h4>
      <ul>
        <li>âœ… é€‰ä¸­è¾¹æ¡†ä¸è¦†ç›–è¡¨å¤´</li>
        <li>âœ… ç¼–è¾‘æ ‡è¯†ä¸è¦†ç›–è¡¨å¤´</li>
        <li>âœ… å•é€‰æ—¶ç¼–è¾‘æ ‡è¯†æ­£å¸¸æ˜¾ç¤º</li>
        <li>âœ… ç‚¹å‡»å¤–éƒ¨æ¸…é™¤é€‰ä¸­çŠ¶æ€</li>
      </ul>
    </div>
  </div>

  <script src="./dist/canvastable.js"></script>
  <script src="./test-rendering-fix.js"></script>
</body>
</html>

